# ğŸ“¦ XCom (Cross-Communication) in Apache Airflow

XComs are a native feature of **Apache Airflow** that enable tasks to share small amounts of data by storing it in the **Airflow metadata database**.

## ğŸ› ï¸ How XComs Work

- âœ… An XCom is created when a task returns a value or explicitly calls `xcom_push()`.
- ğŸ“¥ Another task can retrieve it using `xcom_pull()`.
- ğŸ§  If no key is specified, the default key is `'return_value'`.

## ğŸ§± XCom Structure

Each XCom record includes:

- ğŸ”‘ `key`
- ğŸ“¦ `value` (must be **JSON serializable**)
- ğŸ§© `dag_id`
- ğŸ§± `task_id`
- ğŸ•’ `run_id` or `logical_date`

## ğŸ–¥ï¸ Airflow UI

- XComs are visible in the **Airflow UI** under the task instance details.
- You can inspect their keys, values, and metadata easily from the interface.

## ğŸ“ Use Cases

- âœ… Sharing small metadata like file paths, IDs, status flags
- ğŸ“¡ Communicating between dynamically mapped tasks
- ğŸ§ª Passing intermediate results in lightweight pipelines

## ğŸš« Limitations

| Database | Max XCom Size |
|----------|----------------|
| SQLite   | ~2 GB          |
| Postgres | ~1 GB          |
| MySQL    | ~64 MB         |

âš ï¸ **Not suitable for large data payloads** like dataframes or files.  
Use external storage (e.g., S3, GCS) or trigger big data tools like **Apache Spark**.

## ğŸ§¾ Summary

- ğŸ› ï¸ Use XComs for **small, structured data** sharing
- âŒ Avoid using them for large datasets
- ğŸ“Š Monitor and debug XComs via the UI
- ğŸ’¡ Use `xcom_push()` and `xcom_pull()` for flexible control
