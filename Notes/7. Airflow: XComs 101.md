# 📦 XCom (Cross-Communication) in Apache Airflow

XComs are a native feature of **Apache Airflow** that enable tasks to share small amounts of data by storing it in the **Airflow metadata database**.

## 🛠️ How XComs Work

- ✅ An XCom is created when a task returns a value or explicitly calls `xcom_push()`.
- 📥 Another task can retrieve it using `xcom_pull()`.
- 🧠 If no key is specified, the default key is `'return_value'`.

## 🧱 XCom Structure

Each XCom record includes:

- 🔑 `key`
- 📦 `value` (must be **JSON serializable**)
- 🧩 `dag_id`
- 🧱 `task_id`
- 🕒 `run_id` or `logical_date`

## 🖥️ Airflow UI

- XComs are visible in the **Airflow UI** under the task instance details.
- You can inspect their keys, values, and metadata easily from the interface.

## 📐 Use Cases

- ✅ Sharing small metadata like file paths, IDs, status flags
- 📡 Communicating between dynamically mapped tasks
- 🧪 Passing intermediate results in lightweight pipelines

## 🚫 Limitations

| Database | Max XCom Size |
|----------|----------------|
| SQLite   | ~2 GB          |
| Postgres | ~1 GB          |
| MySQL    | ~64 MB         |

⚠️ **Not suitable for large data payloads** like dataframes or files.  
Use external storage (e.g., S3, GCS) or trigger big data tools like **Apache Spark**.

## 🧾 Summary

- 🛠️ Use XComs for **small, structured data** sharing
- ❌ Avoid using them for large datasets
- 📊 Monitor and debug XComs via the UI
- 💡 Use `xcom_push()` and `xcom_pull()` for flexible control
